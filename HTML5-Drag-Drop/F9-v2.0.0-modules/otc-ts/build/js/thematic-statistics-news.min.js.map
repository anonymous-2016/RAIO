{"version":3,"sources":["webpack:///thematic-statistics-news.min.js","webpack:///webpack/bootstrap f09f3ec5130697a23caf","webpack:///./modules/thematic-statistics-news.js","webpack:///./utils/throw_error.js","webpack:///./utils/console_error.js","webpack:///./utils/console_css.js"],"names":["t","__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","343","e","_throw_error","_console_error","OTC_TS_FV","Modules","thematicStatisticsNews","url","arguments","length","tbody_dom","debug","datas","fetch","then","res","json","Array","isArray","UserException","message","fileName","tbody","title","xwtitle","replace","time","xwsj","id","newsType","newid","html","document","querySelector","style","display","insertAdjacentHTML","setTimeout","host","window","OTC_IP","includes","links","querySelectorAll","console","log","addEventListener","preventDefault","target","dataset","newsid","open_link","data","JSON","stringify","UDP_wh","UDP","getClientWidthHeight","UDP_width","w","UDP_height","h","BouncedModal","width","height","setOverflow","assign","init","catch","err","UserConsoleError","turn_to_uid","Error","uid","topic_category","topicCategory","node_path","ChromeExternal","Execute","error","_ref","ip","path","socket","gilcode","more","OTC_PATH","lineNumber","this","CSS","css0","css1","css2","css3","css4","consoles","css","f0f","f00","ff0","_ff","_f0","_0f","purple","red","green","blue","CONSOLE"],"mappings":"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","file":"thematic-statistics-news.min.js","sourcesContent":["/*! For license information please see thematic-statistics-news.min.js.LICENSE */\n!function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=343)}({343:function(t,e,n){\"use strict\";var o=n(49),s=n(50),i=i||{};i.Modules=i.Modules||{},i.Modules.thematicStatisticsNews=i.Modules.thematicStatisticsNews||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i={};fetch(t).then(function(t){return t.json()}).then(function(t){i=t;try{if(!Array.isArray(i)){throw new o.UserException(\"handle json error!\",\"thematic-statistics-news.js\",29)}var c=\"\";if(i.length>0)for(var r=0;r<i.length;r++){var a=void 0!==i[r].xwtitle?i[r].xwtitle.replace(/(：：)/gi,\": \"):\"暂无数据\",l=void 0!==i[r].xwsj&&null!==i[r].xwsj?i[r].xwsj:\"暂无数据\",d=(void 0!==i[r].newsType&&null!==i[r].newsType&&i[r].newsType,void 0!==i[r].newid?i[r].newid:\"暂无数据\"),f='\\n                                    <a\\n                                        href=\"#'+d+'\"\\n                                        title=\"'+a+'\"\\n                                        data-title=\"'+a+'\"\\n                                        data-link=\"otc-thematic-statistics-news-link\"\\n                                        data-disabled=\"'+(\"null\"===d)+'\"\\n                                        data-link-detail=\"thematic-statistics-news-link-detail-module\"\\n                                        data-newsId=\"'+d+'\">\\n                                        '+a+\"\\n                                    </a>\\n                                \";r<i.length&&(c+='\\n                                        <tr class=\"otc-thematic-statistics-news-table-tr\">\\n                                            <td class=\"otc-thematic-statistics-news-table-td-key\" data-key=\"data-otc-TSN\">'+f+'</td>\\n                                            <td class=\"otc-thematic-statistics-news-table-td-value\" data-value=\"data-otc-TSN\">'+l+\"</td>\\n                                        </tr>\\n                                    \")}else{document.querySelector(\".otc-thematic-statistics-news-table-thead\").style.display=\"none\",c='\\n                                <p data-none=\"no-data-p\">\\n                                    <span data-none=\"no-data-span\"></span>\\n                                </p>\\n                            '}e.insertAdjacentHTML(\"beforeend\",c),setTimeout(function(){var t=void 0!==window.OTC_IP&&window.OTC_IP.includes(\"http\")?window.OTC_IP:\"http://10.1.5.202\",e=document.querySelectorAll('[data-link=\"otc-thematic-statistics-news-link\"]');n&&console.log(\"links = \\n\",e);for(var o=0;o<e.length;o++)e[o].addEventListener(\"click\",function(e){e.preventDefault();var o=e.target.dataset.newsid,s=e.target.dataset.title;try{var i=t+\"/queryservice/news/content/\"+o;n&&console.log(\"id = \"+o+\" \\ntitle = \"+s);var c={};fetch(i).then(function(t){return t.json()}).then(function(t){n&&console.log(\"json = \\n\",JSON.stringify(t,null,4)),c=t;var e=UDP.getClientWidthHeight;n&&console.log(\"UDP_wh = \\n\",JSON.stringify(e,null,4));var o=e.w-60,s=e.h-60;new BouncedModal({width:o,height:s,title:\"公司新闻\",setOverflow:\"overflow-y:none\",datas:Object.assign({},c)}).init()}).catch(function(t){return console.log(\"error infos = \\n\",t)})}catch(e){console.log(t+\"/queryservice/news/content/\"+o+\": Error infos = \\n\",e)}})},0)}catch(t){(0,s.UserConsoleError)(t,\"otc-ts/modules/thematic-statistics-news.js\")}}).catch(function(t){return console.log(\"fetch error = \\n\",t)}),setTimeout(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelector('[data-turn-to-uid=\"node-uid-thematic-statistics-news\"]');if(t&&console.log(\"turn_to_uid dom = \\n\",e),null===e)throw new Error(\"turn_to_uid dom is null!\\n\",e);e.addEventListener(\"click\",function(t){var e=t.target.dataset.uid,n=t.target.dataset.topicCategory,o=\"13\\\\\"+n+\"\\\\\"+e;try{void 0!==e&&void 0!==n?ChromeExternal.Execute(\"ExecuteCommand\",o):console.log(\"ChromeExternal \\nuid === \"+e+\" & topic_category === \"+n)}catch(t){console.log(\"%c ChromeExternal & caught error = \\n\",\"color: red; font-size: 23px;\",t),console.log(\"node uid = \",e),console.log(\"node topic_category = \",n),console.log(\"node node_path = \",o)}})},0)},i.Modules.thematicStatisticsNews.init=i.Modules.thematicStatisticsNews.init||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ip:\"http://10.1.5.202\",path:\"/webservice/fastview/otc\",socket:\"/news/\"},e=t.ip,n=t.path,o=t.socket,s=(t.gilcode,\"\"+e+n+o),c=document.querySelector('[data-tbody=\"otc-thematic-statistics-news-table-tbody\"]'),r=document.querySelector('[data-turn-to-uid=\"node-uid-thematic-statistics-news\"]');i.Modules.thematicStatisticsNews(s,c,r,!1)};var c=window.OTC_IP||\"http://10.1.5.202\",r=window.OTC_PATH||\"/webservice/fastview/otc\";i.Modules.thematicStatisticsNews.init({ip:c,path:r,socket:\"/news\"})},49:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.message=t,this.fileName=e,this.lineNumber=n,this.name=\"UserException\"}e.default=o,e.UserException=o},50:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserConsoleError=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(51));var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";console.log(\"%ccatch error = \\n\",o.css0,JSON.stringify(t,null,4)),console.log(\"%ccatch error.name = \\n\",o.css1,t.name),console.log(\"%ccatch error.message = \\n\",o.css2,t.message),console.log(\"%ccatch error.fileName = \\n\",o.css3,t.fileName,e),console.log(\"%ccatch error.lineNumber = \\n\",o.css4,t.lineNumber)};e.default=s,e.UserConsoleError=s},51:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o={css:\"\\n        color: #f0f;\\n        font-size: 23px;\\n    \",css1:\"\\n        color: #f00;\\n        font-size: 23px;\\n    \",css2:\"\\n        color: #ff0;\\n        font-size: 23px;\\n    \",css3:\"\\n        color: #0ff;\\n        font-size: 23px;\\n    \"},s=\"\\n    color: #f0f;\\n    font-size: 23px;\\n\",i=\"\\n    color: #f00;\\n    font-size: 23px;\\n\",c=\"\\n    color: #ff0;\\n    font-size: 23px;\\n\",r=\"\\n    color: #0ff;\\n    font-size: 23px;\\n\",a=\"\\n    color: #0f0;\\n    font-size: 23px;\\n\",l=\"\\n    color: #f0f;\\n    font-size: 23px;\\n\",d=\"\\n    color: #f00;\\n    font-size: 23px;\\n\",f=\"\\n    color: #ff0;\\n    font-size: 23px;\\n\",u=\"\\n    color: #0ff;\\n    font-size: 23px;\\n\",h=\"\\n    color: #0f0;\\n    font-size: 23px;\\n\",p=\"\\ncolor: #00f;\\nfont-size: 23px;\\n\",v=\"\\n    color: #ff0;\\n    font-size: 23px;\\n\",w=\"\\n    color: #f00;\\n    font-size: 23px;\\n\",g=\"\\n    color: #0f0;\\n    font-size: 23px;\\n\",m=\"\\n    color: #00f;\\n    font-size: 23px;\\n\",x={css0:s,css1:i,css2:c,css3:r,css4:a,consoles:o,f0f:l,ff0:f,f00:d,_ff:u,_f0:h,_0f:p,red:w,green:g,blue:m,purple:v};e.default=x,e.css0=s,e.css1=i,e.css2=c,e.css3=r,e.css4=a,e.consoles=o,e.f0f=l,e.ff0=f,e.f00=d,e._ff=u,e._f0=h,e._0f=p,e.red=w,e.green=g,e.blue=m,e.purple=v}});\n\n\n// WEBPACK FOOTER //\n// thematic-statistics-news.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 343);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f09f3ec5130697a23caf","\"use strict\";\r\n\r\n/**\r\n * @name thematic-statistics-news 新三板专题统计 新闻\r\n * @author xgqfrms\r\n * creadted 2017.12.12\r\n * @param {* String} url\r\n * @param {* String} tbody_dom\r\n * @param {* String} more\r\n * @param {Boolean} debug\r\n */\r\nimport {UserException} from \"../utils/throw_error\";\r\nimport {UserConsoleError as ConsoleError} from \"../utils/console_error\";\r\n\r\n// namespaces\r\nvar OTC_TS_FV = OTC_TS_FV || {};\r\n// sub namespaces\r\nOTC_TS_FV.Modules = OTC_TS_FV.Modules || {};\r\n\r\n\r\n\r\nOTC_TS_FV.Modules.thematicStatisticsNews = OTC_TS_FV.Modules.thematicStatisticsNews || (\r\n    (url = ``, tbody_dom = ``, more = ``, debug = false) => {\r\n        let datas = {};\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(\r\n            (json) => {\r\n                datas = json;\r\n                try {\r\n                    if (Array.isArray(datas)) {\r\n                        let tbody = ``;\r\n                        // no data\r\n                        // if (datas.length < 0) {\r\n                        if (datas.length > 0) {\r\n                            for (let i = 0; i < datas.length; i++) {\r\n                                let title = (datas[i].xwtitle !== undefined) ? datas[i].xwtitle.replace(/(：：)/ig, \": \") : `暂无数据`,\r\n                                    time = (datas[i].xwsj !== undefined && datas[i].xwsj !== null) ? datas[i].xwsj : `暂无数据`,\r\n                                    type = (datas[i].newsType !== undefined && datas[i].newsType !== null) ? datas[i].newsType : `暂无数据`,\r\n                                    id = (datas[i].newid !== undefined) ? datas[i].newid : `暂无数据`;\r\n                                let html = `\r\n                                    <a\r\n                                        href=\"#${id}\"\r\n                                        title=\"${title}\"\r\n                                        data-title=\"${title}\"\r\n                                        data-link=\"otc-thematic-statistics-news-link\"\r\n                                        data-disabled=\"${id !== \"null\" ? false : true}\"\r\n                                        data-link-detail=\"thematic-statistics-news-link-detail-module\"\r\n                                        data-newsId=\"${id}\">\r\n                                        ${title}\r\n                                    </a>\r\n                                `;\r\n                                // if (i < 5) {\r\n                                if (i < datas.length) {\r\n                                    tbody += `\r\n                                        <tr class=\"otc-thematic-statistics-news-table-tr\">\r\n                                            <td class=\"otc-thematic-statistics-news-table-td-key\" data-key=\"data-otc-TSN\">${html}</td>\r\n                                            <td class=\"otc-thematic-statistics-news-table-td-value\" data-value=\"data-otc-TSN\">${time}</td>\r\n                                        </tr>\r\n                                    `;\r\n                                    // <td class=\"otc-thematic-statistics-news-table-td-value\" data-value=\"data-otc-CN\">${type}</td>\r\n                                }else{\r\n                                    // only show 5 items\r\n                                }\r\n                            }\r\n                        }else{\r\n                            // no data\r\n                            let thead = document.querySelector(`.otc-thematic-statistics-news-table-thead`);\r\n                            thead.style.display = \"none\";\r\n                            // tbody = `\r\n                            //     <tr class=\"otc-thematic-statistics-news-table-tr\">\r\n                            //         <td colspan=\"3\">\r\n                            //             <p data-none=\"no-data-p\">\r\n                            //                 <span data-none=\"no-data-span\"></span>\r\n                            //             </p>\r\n                            //         </td>\r\n                            //     </tr>\r\n                            // `;\r\n                            tbody = `\r\n                                <p data-none=\"no-data-p\">\r\n                                    <span data-none=\"no-data-span\"></span>\r\n                                </p>\r\n                            `;\r\n                        }\r\n                        tbody_dom.insertAdjacentHTML(`beforeend`, tbody);\r\n                        // open news modal\r\n                        setTimeout(() => {\r\n                            const host = (window.OTC_IP !== undefined && window.OTC_IP.includes(\"http\")) ? window.OTC_IP : `http://10.1.5.202`;\r\n                            // const host = ip;\r\n                            // absolute url ip\r\n                            let links = document.querySelectorAll(`[data-link=\"otc-thematic-statistics-news-link\"]`);\r\n                            if (debug) {\r\n                                console.log(`links = \\n`, links);\r\n                            }\r\n                            for (let i = 0; i < links.length; i++) {\r\n                                links[i].addEventListener(`click`, (e) => {\r\n                                    e.preventDefault();\r\n                                    // #hash\r\n                                    let id = e.target.dataset.newsid,\r\n                                        title = e.target.dataset.title;\r\n                                    try {\r\n                                        let open_link = `${host}/queryservice/news/content/${id}`;\r\n                                        // #567721125719\r\n                                        if (debug) {\r\n                                            console.log(`id = ${id} \\ntitle = ${title}`);\r\n                                            // no need title\r\n                                        }\r\n                                        // fetch news summary data\r\n                                        let data = {};\r\n                                        fetch(open_link)\r\n                                        .then(res => res.json())\r\n                                        .then(\r\n                                            (json) => {\r\n                                                if (debug) {\r\n                                                    console.log(`json = \\n`, JSON.stringify(json, null, 4));\r\n                                                }\r\n                                                data = json;\r\n                                                // BouncedModal\r\n                                                const UDP_wh = UDP.getClientWidthHeight;\r\n                                                if (debug) {\r\n                                                    console.log(`UDP_wh = \\n`, JSON.stringify(UDP_wh, null, 4));\r\n                                                }\r\n                                                let UDP_width = UDP_wh.w - 60,\r\n                                                    UDP_height = UDP_wh.h - 60;\r\n                                                const modal = new BouncedModal({\r\n                                                // const modal = new UDP.BouncedModal({\r\n                                                    // bouncedclass: \"layerContianer2\",//存放页面的容器类名\r\n                                                    width: UDP_width,\r\n                                                    height: UDP_height,\r\n                                                    title: \"公司新闻\",\r\n                                                    setOverflow: \"overflow-y:none\",\r\n                                                    //设置滚动的属性(overflow-y: 竖向  overflow-x: 横向)\r\n                                                    // str: html.join(''),// array to string\r\n                                                    // str: html_template,\r\n                                                    datas: Object.assign({}, data)\r\n                                                });\r\n                                                modal.init();\r\n                                                // return json;\r\n                                            }\r\n                                        )\r\n                                        .catch(err => console.log(`error infos = \\n`, err));\r\n                                    } catch (err) {\r\n                                        console.log(`${host}/queryservice/news/content/${id}: Error infos = \\n`, err);\r\n                                        // window.open(`${host}/queryservice/news/content/${id}`);\r\n                                    }\r\n                                });\r\n                            }\r\n                        }, 0);\r\n                    }else{\r\n                        let message = `handle json error!`,\r\n                            fileName = `thematic-statistics-news.js`,\r\n                            lineNumber = 29;\r\n                        throw new UserException(message, fileName, lineNumber);\r\n                    }\r\n                } catch (err) {\r\n                    let url =`otc-ts/modules/thematic-statistics-news.js`;\r\n                    ConsoleError(err, url);\r\n                }\r\n            }\r\n        )\r\n        .catch(err => console.log(`fetch error = \\n`, err));\r\n        // return datas;\r\n        // <a href=\"#更多\" data-uid=\"xxxxxx\" data-topic-category=\"NQTOPIC\" data-turn-to-uid=\"node-uid-thematic-statistics-news>更多</a>\r\n        // more\r\n        setTimeout((debug = false) => {\r\n            let turn_to_uid = document.querySelector(`[data-turn-to-uid=\"node-uid-thematic-statistics-news\"]`);\r\n            if (debug) {\r\n                console.log(`turn_to_uid dom = \\n`, turn_to_uid);\r\n            }\r\n            if (turn_to_uid !== null) {\r\n                turn_to_uid.addEventListener(`click`, (e) => {\r\n                        // 今日新增挂牌公司\tMore 13\tNQTOPIC\t342064\r\n                        // more.dataset.moreUid = `${table_obj.zqdm}.OC`;\r\n                        let uid = e.target.dataset.uid,\r\n                            topic_category  = e.target.dataset.topicCategory,// 专题分类名称常量\r\n                            node_path = `13\\\\${topic_category}\\\\${uid}`;\r\n                        try {\r\n                            if (uid !== undefined && topic_category !== undefined) {\r\n                                ChromeExternal.Execute(\"ExecuteCommand\", node_path);\r\n                                // ChromeExternal.Execute(\"ExecuteCommand\", `13\\\\${topic_category}\\\\${uid}`);\r\n                            }else{\r\n                                console.log(`ChromeExternal \\nuid === ${uid} & topic_category === ${topic_category}`);\r\n                            }\r\n                        } catch (error) {\r\n                            console.log(`%c ChromeExternal & caught error = \\n`, `color: red; font-size: 23px;`, error);\r\n                            console.log(`node uid = `, uid);\r\n                            console.log(`node topic_category = `, topic_category);\r\n                            console.log(`node node_path = `, node_path);\r\n                        }\r\n                    });\r\n            }else{\r\n                // null\r\n                throw new Error(`turn_to_uid dom is null!\\n`, turn_to_uid);\r\n            }\r\n        }, 0);\r\n    }\r\n);\r\n\r\n\r\nOTC_TS_FV.Modules.thematicStatisticsNews.init = OTC_TS_FV.Modules.thematicStatisticsNews.init || (\r\n    (\r\n        {\r\n            ip,\r\n            path,\r\n            socket,\r\n            gilcode\r\n        } = {\r\n            ip: `http://10.1.5.202`,\r\n            path: `/webservice/fastview/otc`,\r\n            socket: `/news/`,\r\n            // gilcode: `430002.OC`\r\n        }\r\n    ) => {\r\n        let url = `${ip}${path}${socket}`,\r\n        // let url = `${ip}${path}${socket}${gilcode}`,\r\n            tbody_dom = document.querySelector(`[data-tbody=\"otc-thematic-statistics-news-table-tbody\"]`),\r\n            more = document.querySelector(`[data-turn-to-uid=\"node-uid-thematic-statistics-news\"]`);\r\n        OTC_TS_FV.Modules.thematicStatisticsNews(url, tbody_dom, more, false);\r\n    }\r\n);\r\n\r\n// OTC_SKIN ??? no need ???\r\n\r\nvar OTC_IP = window.OTC_IP || `http://10.1.5.202`,\r\n    OTC_PATH = window.OTC_PATH || `/webservice/fastview/otc`;\r\n\r\n\r\nOTC_TS_FV.Modules.thematicStatisticsNews.init({\r\n    ip: OTC_IP,\r\n    path: OTC_PATH,\r\n    socket: `/news`,\r\n    // socket: `/news/`,\r\n    // gilcode: OTC_GILCODE,\r\n});\r\n\r\n// OTC_TS_FV.Modules.thematicStatisticsNews.init();\r\n// const url = `http://10.1.5.202/webservice/fastview/otcper/news/430002.OC`;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thematic-statistics-news.js","\"use strict\";\r\n\r\n/**\r\n * @author xgqfrms 2017-12-13\r\n * @license MIT\r\n * @description Try-Catch-Throw-Error\r\n *\r\n * @param {*String } message\r\n * @param {*String } fileName\r\n * @param {*Number} lineNumber\r\n */\r\n\r\n\r\n\r\nfunction UserException(message = ``, fileName = ``, lineNumber = 0){\r\n    this.message = message;\r\n    this.fileName = fileName;\r\n    this.lineNumber = lineNumber;\r\n    this.name = 'UserException';\r\n}\r\n\r\nexport default UserException;\r\nexport {UserException};\r\n\r\n/*\r\n\r\ntry {\r\n    let message = `handle json error!`,\r\n        fileName = `latest-transaction-data.js`,\r\n        lineNumber = 29;\r\n    throw new UserException(message, fileName, lineNumber);\r\n    // new Error([message[, fileName[, lineNumber]]]);\r\n} catch (err) {\r\n    console.log(`catch error = \\n`, err);\r\n    console.log(`catch error.name = \\n`, err.name);\r\n    console.log(`catch error.message = \\n`, err.message);\r\n    console.log(`catch error.fileName = \\n`, err.fileName);\r\n    console.log(`catch error.lineNumber = \\n`, err.lineNumber);\r\n}\r\n\r\n*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./utils/throw_error.js","\"use strict\";\r\n\r\n/**\r\n * @author xgqfrms 2017-12-13\r\n * @license MIT\r\n * @description UserConsoleError\r\n *\r\n * @param {*Object } error\r\n *\r\n */\r\n\r\nimport * as CSS from \"./console_css\";\r\n\r\nconst UserConsoleError = (error = {}, url = ``) => {\r\n    console.log(`%ccatch error = \\n`, CSS.css0, JSON.stringify(error, null, 4));\r\n    console.log(`%ccatch error.name = \\n`, CSS.css1, error.name);\r\n    console.log(`%ccatch error.message = \\n`, CSS.css2, error.message);\r\n    console.log(`%ccatch error.fileName = \\n`, CSS.css3, error.fileName, url);\r\n    console.log(`%ccatch error.lineNumber = \\n`, CSS.css4, error.lineNumber);\r\n};\r\n\r\nexport default UserConsoleError;\r\nexport {UserConsoleError};\r\n\r\n\r\n/*\r\n\r\nimport {UserException} from \"../utils/throw_error\";\r\nimport {UserConsoleError as ConsoleError} from \"../utils/console_error\";\r\n\r\n\r\ntry {\r\n    let message = `handle json error!`,\r\n        fileName = `latest-transaction-data.js`,\r\n        lineNumber = 29;\r\n    throw new UserException(message, fileName, lineNumber)\r\n} catch (error) {\r\n    let url =`file:///E:/github/RAIO/HTML5-Drag-Drop/F9-v2.0.0-modules/otc-f9/modules/latest-transaction-data.js`;\r\n    ConsoleError(err, url);;\r\n}\r\n\r\n\r\n*/\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./utils/console_error.js","const consoles = {\r\n    css: `\r\n        color: #f0f;\r\n        font-size: 23px;\r\n    `,\r\n    css1: `\r\n        color: #f00;\r\n        font-size: 23px;\r\n    `,\r\n    css2: `\r\n        color: #ff0;\r\n        font-size: 23px;\r\n    `,\r\n    css3: `\r\n        color: #0ff;\r\n        font-size: 23px;\r\n    `,\r\n};\r\n\r\nconst console_css = `\r\n    color: #f0f;\r\n    font-size: 23px;\r\n`;\r\nconst console_css1 = `\r\n    color: #f00;\r\n    font-size: 23px;\r\n`;\r\nconst console_css2 = `\r\n    color: #ff0;\r\n    font-size: 23px;\r\n`;\r\nconst console_css3 = `\r\n    color: #0ff;\r\n    font-size: 23px;\r\n`;\r\n\r\n\r\nconst css0 = `\r\n    color: #f0f;\r\n    font-size: 23px;\r\n`;\r\nconst css1 = `\r\n    color: #f00;\r\n    font-size: 23px;\r\n`;\r\nconst css2 = `\r\n    color: #ff0;\r\n    font-size: 23px;\r\n`;\r\nconst css3 = `\r\n    color: #0ff;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst css4 = `\r\n    color: #0f0;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst f0f = `\r\n    color: #f0f;\r\n    font-size: 23px;\r\n`;\r\nconst f00 = `\r\n    color: #f00;\r\n    font-size: 23px;\r\n`;\r\nconst ff0 = `\r\n    color: #ff0;\r\n    font-size: 23px;\r\n`;\r\nconst _ff = `\r\n    color: #0ff;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst _f0 = `\r\n    color: #0f0;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst _0f = `\r\ncolor: #00f;\r\nfont-size: 23px;\r\n`;\r\n\r\nconst purple = `\r\n    color: #ff0;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst red = `\r\n    color: #f00;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst green = `\r\n    color: #0f0;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst blue = `\r\n    color: #00f;\r\n    font-size: 23px;\r\n`;\r\n\r\nconst CONSOLE = {\r\n    css0,\r\n    css1,\r\n    css2,\r\n    css3,\r\n    css4,\r\n    consoles,\r\n    f0f,\r\n    ff0,\r\n    f00,\r\n    _ff,\r\n    _f0,\r\n    _0f,\r\n    red,\r\n    green,\r\n    blue,\r\n    purple,\r\n    // skyblue\r\n};\r\n\r\n// export default consoles;\r\n// export {console_css, console_css1, console_css2, console_css3};\r\nexport default CONSOLE;\r\n// export {css0, css1, css2, css3, css4, consoles};\r\nexport {css0, css1, css2, css3, css4, consoles, f0f, ff0, f00, _ff, _f0, _0f, red, green, blue, purple};\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./utils/console_css.js"],"sourceRoot":""}