/*! For license information please see newly-added-protocol.min.js.LICENSE */
!function(o){function e(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return o[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t={};e.m=o,e.c=t,e.d=function(o,t,n){e.o(o,t)||Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=331)}({331:function(o,e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},l=(t(49),t(50)),c=c||{};c.Modules=c.Modules||{},c.Modules.newlyAddedProtocol=c.Modules.newlyAddedProtocol||function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default_dom_uid",n={};fetch(o).then(function(o){return o.json()}).then(function(o){var s=function(){var o=!0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case void 0:case null:o=!1}return o};e&&console.log("json = \n",o);try{var i=[],d=[],a=document.querySelector('[data-text="otc-newly-added-protocol-text"]'),f=document.querySelector(".otc-newly-added-protocol-title-box"),u=document.querySelector("#newly_added_protocol_hs_container"),p=document.querySelector('[data-table="otc-newly-added-protocol-table"]');if(s(o)&&Object.keys(o).length>0){if(i=Object.keys(o).sort(),d=Object.values(o),s(o[i[0]].gpjs)){a.insertAdjacentHTML("beforeend","今日新增协议转做市公司"+d[0].gpjs+"家");var g=i[0].replace(/(id)/i,"");e&&console.log("init_uid = \n",g),c.Modules.newlyAddedProtocol.showTable(g,o)}var h=[];i.map(function(t,n){var l=r({},o[t]),c=l.mgsy,s=l.mgjzc,i=l.zgb,d=l.zqjc,a=l.zqdm;c=parseFloat(c),s=parseFloat(s),i=parseFloat(i);var f=Object.assign({},{x:c,y:s,z:i,name:d,code:a});e&&(console.log("json[key] = \n",o[t]),console.log("new_obj =\n",f)),h.push(f)}),e&&(console.log("json_keys = \n",i),console.log("new_json_values = \n",h)),(n=[].concat(h)).length>0&&c.Modules.newlyAddedProtocol.drawHC(n,t,o,!1)}else u.style.display="none",p.style.display="none",f.insertAdjacentHTML("afterend",'\n                    <div data-margin="no-data-margin-top">\n                        <p data-none="no-data-p">\n                            <span data-none="no-data-span"></span>\n                        </p>\n                    </div>\n                ')}catch(o){(0,l.UserConsoleError)(o,"file:///E:/otc-ts/modules/newly-added-protocol.js")}}).catch(function(o){return console.log("error = \n",o)}),setTimeout(function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelector('[data-turn-to-uid="node-uid-newly-added-protocol"]');if(o&&console.log("turn_to_uid dom = \n",e),null===e)throw new Error("turn_to_uid dom is ",e);e.addEventListener("click",function(o){var e=o.target.dataset.uid,t=o.target.dataset.topicCategory,n="13\\"+t+"\\"+e;try{void 0!==e&&void 0!==t?ChromeExternal.Execute("ExecuteCommand",n):console.log("ChromeExternal \nuid === "+e+" & topic_category === "+t)}catch(o){console.log("%c ChromeExternal & caught error = \n","color: red; font-size: 23px;",o),console.log("node uid = ",e),console.log("node topic_category = ",t),console.log("node node_path = ",n)}})},0)},c.Modules.newlyAddedProtocol.drawHC=c.Modules.newlyAddedProtocol.drawHC||function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"container",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(o.length,r({},{color:"#0B1016",colors:["#ff1919","#ffff66","#92d050"],optioncolor:"red",gridColor:"#2D3039",legendColor:"#fff",yAxisColor:"#FFB400"}));s.color,s.colors,s.optioncolor,s.gridColor,s.legendColor,s.yAxisColor,l&&(console.log("Highcharts datas =\n",o),console.log("%c Highcharts container_uid =","color: #f0f; font-size: 23px;",e));var i="black"===d?"#0b1016":"#fff",a="black"===d?"#fff":"#000";Highcharts.setOptions({lang:{rangeSelectorZoom:"缩放",rangeSelectorFrom:"从",rangeSelectorTo:"到",contextButtonTitle:"图表导出菜单",decimalPoint:".",downloadJPEG:"下载JPEG图片",downloadPDF:"下载PDF文件",downloadPNG:"下载PNG文件",downloadSVG:"下载SVG文件",drillUpText:"返回 {series.name}",loading:"加载中...",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],noData:'\n                <p data-none="no-data-hc">\n                    <span data-none="no-data-span"></span>\n                </p>\n            ',numericSymbols:["k","M","G","T","P","E"],printChart:"打印图表",resetZoom:"重置缩放比例",resetZoomTitle:"重置为原始大小",shortMonths:["一","二","三","四","五","六","七","八","九","十","十一","十二"],thousandsSep:",",shortWeekdays:["周天","周一","周二","周三","周四","周五","周六"],weekdays:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"]}}),Highcharts.chart(e,{noData:{useHTML:!0},credits:{enabled:!0,href:"https://www.gildata.com",text:"gildata"},chart:{type:"bubble",backgroundColor:i,plotBorderWidth:1,zoomType:"xy"},legend:{enabled:!1},title:{text:""},subtitle:{text:""},xAxis:{gridLineWidth:1,title:{text:"每股收益(元)"},labels:{format:"{value}"}},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:"每股净资产(元)"},labels:{format:"{value}"},maxPadding:.2},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'\n                <tr>\n                    <th colspan="2">\n                        <h3>{point.name}({point.code})</h3>\n                    </th>\n                </tr>\n                <tr>\n                    <th>每股收益:</th>\n                    <td>{point.x} 元</td>\n                </tr>\n                <tr>\n                    <th>每股净资产:</th>\n                    <td>{point.y} 元</td>\n                </tr>\n                <tr>\n                    <th>总股本:</th>\n                    <td>{point.z} 股</td>\n                </tr>\n            ',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}",color:a,shadow:!1,style:{textShadow:!1}},cursor:"pointer",events:{click:function(o){l&&(console.log("event = \n",o),console.log("event.point.code= \n",o.point.code,n(o.point.code)));var e=o.point.code;l&&(console.log("code_uid = \n",e),console.log("json = \n",t)),c.Modules.newlyAddedProtocol.showTable(e,t)}},point:{events:{click:function(o){l&&(console.log("event.point = \n "+o.point),console.log("event.point.code = \n "+o.point.code))}}}}},series:[{data:[].concat(function(o){if(Array.isArray(o)){for(var e=0,t=Array(o.length);e<o.length;e++)t[e]=o[e];return t}return Array.from(o)}(o)),name:"今日新增协议转做市公司",color:"#3285ff"}]})},c.Modules.newlyAddedProtocol.showTable=c.Modules.newlyAddedProtocol.showTable||function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"6000570",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="id"+o;t&&(console.log("uid = ",o),console.log("new_uid = ",n),console.log("data = ",JSON.stringify(data,null,4)));var r=e[n];t&&console.log("table_obj",JSON.stringify(r,null,4));var l=document.querySelector('[data-otc-th-title="securities-abbreviation-newly-added-protocol"]'),c=document.querySelector('[data-otc-th-title="securities-code-newly-added-protocol"]'),s=document.querySelector('[data-table-body="otc-table-body-newly-added-protocol"]'),i=document.querySelector('[data-more="otc-newly-added-protocol-more"]');t&&console.log("more.dataset.moreUid = ",i.dataset.moreUid),i.setAttribute("href","#"+r.zqdm),i.dataset.moreUid=""+r.zqdm,setTimeout(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.addEventListener("click",function(t){var n=t.target.dataset.moreUid,r="12\\"+n+"\\"+o;e&&(console.log("more gilcode = \n",n),console.log("more_node_path = \n",r));try{null!==n?ChromeExternal.Execute("ExecuteCommand","12\\"+n+"\\"):console.log("ChromeExternal & "+n+" === null\n")}catch(o){console.log("%c ChromeExternal & caught error = \n","color: red; font-size: 23px;",o),console.log("more node gilcode = ",n)}})},0);var d=s.children,a=d[0].children,f=d[1].children,u=d[2].children;l.innerHTML=""+r.zqjc,c.innerHTML=r.zqdm+".OC",a[1].innerHTML=""+r.sshy,a[3].innerHTML=""+r.zbqs,a[1].setAttribute("title",""+r.sshy),a[3].setAttribute("title",""+r.zbqs),f[1].innerHTML=""+r.mgsy,f[3].innerHTML=""+r.jlrtbzz,f[5].innerHTML=""+r.zgb,f[1].setAttribute("title",""+r.mgsy),f[3].setAttribute("title",""+r.jlrtbzz),f[5].setAttribute("title",""+r.zgb),u[1].innerHTML=""+r.mgjzc,u[3].innerHTML=""+r.jzcsyl,u[5].innerHTML=""+r.ltgb,u[1].setAttribute("title",""+r.mgjzc),u[3].setAttribute("title",""+r.jzcsyl),u[5].setAttribute("title",""+r.ltgb)},c.Modules.newlyAddedProtocol.init=c.Modules.newlyAddedProtocol.init||function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ip:"http://10.1.5.202",path:"/webservice/fastview/otc",socket:"/otcfast02",skin:"white"},e=o.ip,t=o.path,n=o.socket,r=(o.skin,""+e+t+n);c.Modules.newlyAddedProtocol(r,!1,"newly_added_protocol_hs_container")};var s=window.OTC_IP||"http://10.1.5.202",i=window.OTC_PATH||"/webservice/fastview/otc",d=window.OTC_SKIN||"black";c.Modules.newlyAddedProtocol.init({ip:s,path:i,socket:"/otcfast02",skin:d})},49:function(o,e,t){"use strict";function n(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.message=o,this.fileName=e,this.lineNumber=t,this.name="UserException"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,e.UserException=n},50:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserConsoleError=void 0;var n=function(o){if(o&&o.__esModule)return o;var e={};if(null!=o)for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);return e.default=o,e}(t(51)),r=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("%ccatch error = \n",n.css0,JSON.stringify(o,null,4)),console.log("%ccatch error.name = \n",n.css1,o.name),console.log("%ccatch error.message = \n",n.css2,o.message),console.log("%ccatch error.fileName = \n",n.css3,o.fileName,e),console.log("%ccatch error.lineNumber = \n",n.css4,o.lineNumber)};e.default=r,e.UserConsoleError=r},51:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={css:"\n        color: #f0f;\n        font-size: 23px;\n    ",css1:"\n        color: #f00;\n        font-size: 23px;\n    ",css2:"\n        color: #ff0;\n        font-size: 23px;\n    ",css3:"\n        color: #0ff;\n        font-size: 23px;\n    "},r="\n    color: #f0f;\n    font-size: 23px;\n",l="\n    color: #f00;\n    font-size: 23px;\n",c="\n    color: #ff0;\n    font-size: 23px;\n",s="\n    color: #0ff;\n    font-size: 23px;\n",i="\n    color: #0f0;\n    font-size: 23px;\n",d="\n    color: #f0f;\n    font-size: 23px;\n",a="\n    color: #f00;\n    font-size: 23px;\n",f="\n    color: #ff0;\n    font-size: 23px;\n",u="\n    color: #0ff;\n    font-size: 23px;\n",p="\n    color: #0f0;\n    font-size: 23px;\n",g="\ncolor: #00f;\nfont-size: 23px;\n",h="\n    color: #ff0;\n    font-size: 23px;\n",y="\n    color: #f00;\n    font-size: 23px;\n",m="\n    color: #0f0;\n    font-size: 23px;\n",b="\n    color: #00f;\n    font-size: 23px;\n",v={css0:r,css1:l,css2:c,css3:s,css4:i,consoles:n,f0f:d,ff0:f,f00:a,_ff:u,_f0:p,_0f:g,red:y,green:m,blue:b,purple:h};e.default=v,e.css0=r,e.css1=l,e.css2=c,e.css3=s,e.css4=i,e.consoles=n,e.f0f=d,e.ff0=f,e.f00=a,e._ff=u,e._f0=p,e._0f=g,e.red=y,e.green=m,e.blue=b,e.purple=h}});
//# sourceMappingURL=newly-added-protocol.min.js.map