/*! For license information please see newly-added-listing.min.js.LICENSE */
!function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var o={};n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=330)}({330:function(e,n,o){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},l=(o(49),o(50)),i=i||{};i.Modules=i.Modules||{},i.Modules.newlyAddedListing=i.Modules.newlyAddedListing||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default_dom_uid",t={};fetch(e).then(function(e){return e.json()}).then(function(e){var s=function(){var e=!0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case void 0:case null:e=!1}return e};n&&console.log("json = \n",e);try{var c=[],d=[],a=document.querySelector('[data-text="otc-newly-added-listing-text"]'),f=document.querySelector(".otc-newly-added-listing-title-box"),u=document.querySelector("#newly_added_listing_hs_container"),g=document.querySelector('[data-table="otc-newly-added-listing-table"]');if(s(e)&&Object.keys(e).length>0){if(c=Object.keys(e).sort(),d=Object.values(e),s(e[c[0]].gpjs)){a.insertAdjacentHTML("beforeend","今日新增挂牌公司"+d[0].gpjs+"家");var p=c[0].replace(/(id)/i,"");n&&console.log("init_uid = \n",p),i.Modules.newlyAddedListing.showTable(p,e)}var h=[];c.map(function(o,t){var l=r({},e[o]),i=l.mgsy,s=l.mgjzc,c=l.zgb,d=l.zqjc,a=l.zqdm;i=parseFloat(i),s=parseFloat(s),c=parseFloat(c);var f=Object.assign({},{x:i,y:s,z:c,name:d,code:a});n&&(console.log("json[key] = \n",e[o]),console.log("new_obj =\n",f)),h.push(f)}),n&&(console.log("json_keys = \n",c),console.log("new_json_values = \n",h)),(t=[].concat(h)).length>0&&i.Modules.newlyAddedListing.drawHC(t,o,e,!1)}else u.style.display="none",g.style.display="none",f.insertAdjacentHTML("afterend",'\n                    <div data-margin="no-data-margin-top">\n                        <p data-none="no-data-p">\n                            <span data-none="no-data-span"></span>\n                        </p>\n                    </div>\n                ')}catch(e){(0,l.UserConsoleError)(e,"file:///E:/otc-ts/modules/newly-added-listing.js")}}).catch(function(e){return console.log("error = \n",e)}),setTimeout(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=document.querySelector('[data-turn-to-uid="node-uid-newly-added-listing"]');if(e&&console.log("turn_to_uid dom = \n",n),null===n)throw new Error("turn_to_uid dom is ",n);n.addEventListener("click",function(e){var n=e.target.dataset.uid,o=e.target.dataset.topicCategory,t="13\\"+o+"\\"+n;try{void 0!==n&&void 0!==o?ChromeExternal.Execute("ExecuteCommand",t):console.log("ChromeExternal \nuid === "+n+" & topic_category === "+o)}catch(e){console.log("%c ChromeExternal & caught error = \n","color: red; font-size: 23px;",e),console.log("node uid = ",n),console.log("node topic_category = ",o),console.log("node node_path = ",t)}})},0)},i.Modules.newlyAddedListing.drawHC=i.Modules.newlyAddedListing.drawHC||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"container",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(e.length,r({},{color:"#0B1016",colors:["#ff1919","#ffff66","#92d050"],optioncolor:"red",gridColor:"#2D3039",legendColor:"#fff",yAxisColor:"#FFB400"}));s.color,s.colors,s.optioncolor,s.gridColor,s.legendColor,s.yAxisColor,l&&(console.log("Highcharts datas =\n",e),console.log("%c Highcharts container_uid =","color: #f0f; font-size: 23px;",n));var c="black"===d?"#0b1016":"#fff",a="black"===d?"#fff":"#000";Highcharts.setOptions({lang:{rangeSelectorZoom:"缩放",rangeSelectorFrom:"从",rangeSelectorTo:"到",contextButtonTitle:"图表导出菜单",decimalPoint:".",downloadJPEG:"下载JPEG图片",downloadPDF:"下载PDF文件",downloadPNG:"下载PNG文件",downloadSVG:"下载SVG文件",drillUpText:"返回 {series.name}",loading:"加载中...",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],noData:'\n                <p data-none="no-data-hc">\n                    <span data-none="no-data-span"></span>\n                </p>\n            ',numericSymbols:["k","M","G","T","P","E"],printChart:"打印图表",resetZoom:"重置缩放比例",resetZoomTitle:"重置为原始大小",shortMonths:["一","二","三","四","五","六","七","八","九","十","十一","十二"],thousandsSep:",",shortWeekdays:["周天","周一","周二","周三","周四","周五","周六"],weekdays:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"]}}),Highcharts.chart(n,{noData:{useHTML:!0},credits:{enabled:!0,href:"https://www.gildata.com",text:"gildata"},chart:{type:"bubble",plotBorderWidth:1,backgroundColor:c,zoomType:"xy"},legend:{enabled:!1},title:{text:""},subtitle:{text:""},xAxis:{gridLineWidth:1,title:{text:"每股收益(元)"},labels:{format:"{value}"}},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:"每股净资产(元)"},labels:{format:"{value}"},maxPadding:.2},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'\n                <tr>\n                    <th colspan="2">\n                        <h3>{point.name}({point.code})</h3>\n                    </th>\n                </tr>\n                <tr>\n                    <th>每股收益:</th>\n                    <td>{point.x} 元</td>\n                </tr>\n                <tr>\n                    <th>每股净资产:</th>\n                    <td>{point.y} 元</td>\n                </tr>\n                <tr>\n                    <th>总股本:</th>\n                    <td>{point.z} 股</td>\n                </tr>\n            ',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}",color:a,shadow:!1,style:{textShadow:!1}},cursor:"pointer",events:{click:function(e){l&&(console.log("event = \n",e),console.log("event.point.code= \n",e.point.code,t(e.point.code)));var n=e.point.code;l&&(console.log("code_uid = \n",n),console.log("json = \n",o)),i.Modules.newlyAddedListing.showTable(n,o)}}}},series:[{data:[].concat(function(e){if(Array.isArray(e)){for(var n=0,o=Array(e.length);n<e.length;n++)o[n]=e[n];return o}return Array.from(e)}(e)),name:"今日新增挂牌公司",color:"#3285ff"}]})},i.Modules.newlyAddedListing.showTable=i.Modules.newlyAddedListing.showTable||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"6000570",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t="id"+e;o&&(console.log("uid = ",e),console.log("new_uid = ",t),console.log("data = ",JSON.stringify(data,null,4)));var r=n[t];o&&console.log("table_obj",JSON.stringify(r,null,4));var l=document.querySelector('[data-otc-th-title="securities-abbreviation-newly-added-listing"]'),i=document.querySelector('[data-otc-th-title="securities-code-newly-added-listing"]'),s=document.querySelector('[data-table-body="otc-table-body-newly-added-listing"]'),c=document.querySelector('[data-more="otc-newly-added-listing-more"]');o&&console.log("more.dataset.moreUid = ",c.dataset.moreUid),c.setAttribute("href","#"+r.zqdm),c.dataset.moreUid=""+r.zqdm,setTimeout(function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c.addEventListener("click",function(o){var t=o.target.dataset.moreUid,r="12\\"+t+"\\"+e;n&&(console.log("more gilcode = \n",t),console.log("more_node_path = \n",r));try{null!==t?ChromeExternal.Execute("ExecuteCommand","12\\"+t+"\\"):console.log("ChromeExternal & "+t+" === null\n")}catch(e){console.log("%c ChromeExternal & caught error = \n","color: red; font-size: 23px;",e),console.log("more node gilcode = ",t)}})},0);var d=s.children,a=d[0].children,f=d[1].children,u=d[2].children;l.innerHTML=null!==r.zqjc?""+r.zqjc:"--",i.innerHTML=null!==r.zqdm?""+r.zqdm:"--",a[1].innerHTML=""+r.sshy,a[3].innerHTML=""+r.zbqs,a[1].setAttribute("title",""+r.sshy),a[3].setAttribute("title",""+r.zbqs),f[1].innerHTML=""+r.mgsy,f[3].innerHTML=""+r.jlrtbzz;var g=parseInt(r.zgb);f[5].innerHTML=""+g,f[1].setAttribute("title",""+r.mgsy),f[3].setAttribute("title",""+r.jlrtbzz),f[5].setAttribute("title",""+g),u[1].innerHTML=""+r.mgjzc,u[3].innerHTML=""+r.jzcsyl;var p=parseInt(r.ltgb);u[5].innerHTML=""+p,u[1].setAttribute("title",""+r.mgjzc),u[3].setAttribute("title",""+r.jzcsyl),u[5].setAttribute("title",""+p)},i.Modules.newlyAddedListing.init=i.Modules.newlyAddedListing.init||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ip:"http://10.1.5.202",path:"/webservice/fastview/otc",socket:"/otcfast01",skin:"white"},n=e.ip,o=e.path,t=e.socket,r=(e.skin,""+n+o+t);i.Modules.newlyAddedListing(r,!1,"newly_added_listing_hs_container")};var s=window.OTC_IP||"http://10.1.5.202",c=window.OTC_PATH||"/webservice/fastview/otc",d=window.OTC_SKIN||"black";i.Modules.newlyAddedListing.init({ip:s,path:c,socket:"/otcfast01",skin:d})},49:function(e,n,o){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.message=e,this.fileName=n,this.lineNumber=o,this.name="UserException"}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,n.UserException=t},50:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UserConsoleError=void 0;var t=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}(o(51)),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("%ccatch error = \n",t.css0,JSON.stringify(e,null,4)),console.log("%ccatch error.name = \n",t.css1,e.name),console.log("%ccatch error.message = \n",t.css2,e.message),console.log("%ccatch error.fileName = \n",t.css3,e.fileName,n),console.log("%ccatch error.lineNumber = \n",t.css4,e.lineNumber)};n.default=r,n.UserConsoleError=r},51:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={css:"\n        color: #f0f;\n        font-size: 23px;\n    ",css1:"\n        color: #f00;\n        font-size: 23px;\n    ",css2:"\n        color: #ff0;\n        font-size: 23px;\n    ",css3:"\n        color: #0ff;\n        font-size: 23px;\n    "},r="\n    color: #f0f;\n    font-size: 23px;\n",l="\n    color: #f00;\n    font-size: 23px;\n",i="\n    color: #ff0;\n    font-size: 23px;\n",s="\n    color: #0ff;\n    font-size: 23px;\n",c="\n    color: #0f0;\n    font-size: 23px;\n",d="\n    color: #f0f;\n    font-size: 23px;\n",a="\n    color: #f00;\n    font-size: 23px;\n",f="\n    color: #ff0;\n    font-size: 23px;\n",u="\n    color: #0ff;\n    font-size: 23px;\n",g="\n    color: #0f0;\n    font-size: 23px;\n",p="\ncolor: #00f;\nfont-size: 23px;\n",h="\n    color: #ff0;\n    font-size: 23px;\n",y="\n    color: #f00;\n    font-size: 23px;\n",m="\n    color: #0f0;\n    font-size: 23px;\n",b="\n    color: #00f;\n    font-size: 23px;\n",v={css0:r,css1:l,css2:i,css3:s,css4:c,consoles:t,f0f:d,ff0:f,f00:a,_ff:u,_f0:g,_0f:p,red:y,green:m,blue:b,purple:h};n.default=v,n.css0=r,n.css1=l,n.css2=i,n.css3=s,n.css4=c,n.consoles=t,n.f0f=d,n.ff0=f,n.f00=a,n._ff=u,n._f0=g,n._0f=p,n.red=y,n.green=m,n.blue=b,n.purple=h}});
//# sourceMappingURL=newly-added-listing.min.js.map